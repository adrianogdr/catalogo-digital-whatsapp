<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>S√≠tio Progresso - Cat√°logo 1.9</title>
  <style>
    /* CONFIGURA√á√ïES GERAIS COMPACTAS */
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f2f5;
      margin: 0;
      padding: 8px;
      color: #333;
      font-size: 14px;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 10px;
    }

    /* HEADER */
    .company-header {
      background: #e8f5e9;
      padding: 10px;
      border-radius: 6px;
      margin-bottom: 8px;
      border-left: 4px solid #1b5e20;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .company-header h1 {
      margin: 0;
      color: #1b5e20;
      font-size: 1.3em;
    }

    .company-header p {
      margin: 2px 0;
      font-size: 0.9em;
      color: #444;
    }

    .company-header a {
      color: #1b5e20;
      text-decoration: none;
      font-weight: 500;
    }

    .badge {
      background: #2e7d32;
      color: white;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 0.75em;
      font-weight: bold;
    }

    .card {
      background: white;
      padding: 10px;
      border-radius: 6px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    /* LISTA DE PRODUTOS */
    .category-title {
      color: #1b5e20;
      border-bottom: 1px solid #1b5e20;
      margin-top: 15px;
      padding-bottom: 2px;
      text-transform: uppercase;
      font-size: 1em;
      font-weight: bold;
      letter-spacing: 0.5px;
    }

    /* Item Zebrado */
    .product-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 5px;
      border-bottom: 1px solid #f0f0f0;
    }

    .product-item:nth-child(even) {
      background-color: #f9fbf9;
    }

    .btn-add {
      background: #1b5e20;
      color: white;
      border: none;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2em;
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 0;
      padding-bottom: 2px;
    }

    .btn-add:active {
      transform: scale(0.9);
    }

    /* CARRINHO */
    .cart-section {
      position: sticky;
      top: 10px;
      height: fit-content;
      max-height: 90vh;
      display: flex;
      flex-direction: column;
    }

    .cart-items-container {
      overflow-y: auto;
      flex-grow: 1;
      margin-bottom: 10px;
      max-height: 60vh;
      padding-right: 5px;
    }

    .cart-item {
      display: flex;
      flex-direction: column;
      font-size: 0.9em;
      margin-bottom: 8px;
      border-bottom: 1px dashed #ddd;
      padding-bottom: 8px;
    }

    .cart-controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #f5f5f5;
      padding: 4px;
      border-radius: 4px;
      margin-top: 4px;
    }

    .btn-mini {
      width: 26px;
      height: 26px;
      border: 1px solid #ccc;
      background: white;
      border-radius: 4px;
      font-weight: bold;
      color: #333;
    }

    /* RODAP√â DO CARRINHO */
    .cart-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-top: 2px solid #eee;
      padding-top: 10px;
      margin-top: auto;
    }

    .footer-buttons {
      display: flex;
      gap: 8px;
    }

    .btn-icon {
      width: 42px;
      height: 42px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.2s;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .btn-icon:active {
      transform: scale(0.95);
    }

    .btn-icon svg {
      width: 22px;
      height: 22px;
      fill: white;
    }

    .btn-zap {
      background-color: #25D366;
    }

    .btn-copy {
      background-color: #1976D2;
    }

    .btn-clear {
      background-color: #D32F2F;
    }

    .footer-total {
      text-align: right;
      line-height: 1.1;
    }

    .footer-total small {
      color: #666;
      font-size: 0.8em;
      text-transform: uppercase;
    }

    .footer-total div {
      color: #1b5e20;
      font-weight: bold;
      font-size: 1.4em;
    }

    /* MOBILE */
    @media (max-width: 768px) {
      .container {
        grid-template-columns: 1fr;
        gap: 0;
      }

      body {
        padding: 0;
        padding-bottom: 140px;
      }

      .company-header,
      .product-list {
        margin: 10px;
      }

      .cart-section {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        top: auto;
        z-index: 1000;
        border-radius: 15px 15px 0 0;
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
        margin: 0;
        padding: 15px;
        background: white;
        max-height: 60vh;
      }

      .cart-section:empty {
        display: none;
      }
    }
  </style>
</head>

<body>

  <div class="container">
    <div class="product-list card" id="productList">

      <div class="company-header">
        <h1>Jos√© Aparecido Sasso</h1>
        <p><strong>Produtor Rural</strong> | Inscri√ß√£o: 001.319.910.0058</p>
        <p>üìç S√≠tio Progresso ‚Äì Dona Euz√©bia ‚Äì MG</p>
        <p>‚úâÔ∏è <a href="mailto:fruticulturaprogresso@gmail.com">fruticulturaprogresso@gmail.com</a></p>
        <span class="badge">Mudas Certificadas (IMA/EMATER)</span>
      </div>

      <div style="margin: 10px 0; font-size: 0.9em; color: #333; line-height: 1.4;">
        <strong>OBS:</strong> Temos <span style="color: #1976D2; font-weight: bold;">Palmeira Imperial</span> - Porte
        maior com tronco cinza R$250,00 o metro, e tamb√©m nativas menores a pre√ßos diferenciados. <strong>FRETE A
          COMBINAR.</strong>
      </div>

      <p style="color:#666; font-size:0.9em; margin:10px 0;">üõí Toque no <b>+</b> para adicionar itens:</p>
      <div id="renderArea"></div>
    </div>

    <div class="cart-section card" id="cartSection" style="display: none;">

      <span onclick="toggleCart()"
        style="color:black; cursor:pointer; font-size: 1.3em; display:block; width:100%; text-align:center; margin-bottom:5px; font-weight: bold; background-color:lightgray; padding-top: 10px; padding-bottom: 10px;">
        ‚ñº Ocultar
      </span>

      <div class="cart-header"
        style="font-weight:bold; color:#1b5e20; margin-bottom:10px; font-size:1.1em; display:flex; justify-content:center;">
        <span>üõí Seu Pedido</span>
      </div>

      <div id="cartItems" class="cart-items-container"></div>

      <div class="cart-footer">
        <div class="footer-buttons">
          <button class="btn-icon btn-zap" onclick="enviarZap()" title="Enviar no WhatsApp">
            <svg viewBox="0 0 24 24">
              <path
                d="M12.0316 0C5.39843 0 0 5.39843 0 12.0316C0 14.1611 0.55627 16.1559 1.5173 17.8961L0.0965851 23.0766L5.42159 21.6865C7.09459 22.9099 9.15582 23.6308 11.3961 23.6308H11.4013C18.0293 23.6308 23.4277 18.2324 23.4277 11.5992C23.4277 5.25056 18.3072 0.0862081 12.0316 0ZM11.9698 19.8398C10.0857 19.8398 8.31846 19.3331 6.80489 18.4414L6.44391 18.2269L2.83905 19.1654L3.80164 15.6542L3.56586 15.2796C2.58334 13.7145 2.06456 11.8906 2.06456 9.99849C2.06456 4.5323 6.50859 0.0862081 11.9698 0.0862081C17.431 0.0862081 21.875 4.5323 21.875 9.99849C21.875 15.4647 17.431 19.8398 11.9698 19.8398Z" />
            </svg>
          </button>
          <button class="btn-icon btn-copy" onclick="copiarPedido()" title="Copiar Pedido">
            <svg viewBox="0 0 24 24">
              <path
                d="M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z" />
            </svg>
          </button>
          <button class="btn-icon btn-clear" onclick="limparCarrinho()" title="Limpar Carrinho">
            <svg viewBox="0 0 24 24">
              <path
                d="M6 19C6 20.1 6.9 21 8 21H16C17.1 21 18 20.1 18 19V7H6V19ZM19 4H15.5L14.5 3H9.5L8.5 4H5V6H19V4Z" />
            </svg>
          </button>
        </div>
        <div class="footer-total">
          <small>Total a Pagar</small>
          <div id="totalValue">R$ 0,00</div>
        </div>
      </div>
    </div>

    <div id="floatingBtn" onclick="toggleCart()"
      style="position:fixed; bottom:20px; right:20px; background:#1b5e20; color:white; padding:15px; border-radius:50px; box-shadow:0 4px 10px rgba(0,0,0,0.3); display:none; cursor:pointer; z-index:999; font-weight:bold;">
      üõí Ver Carrinho
    </div>
  </div>

  <script>
    const catalogo = [
      {
        categoria: "üçä CITRUS", itens: [
          { n: "Carioca", p: 28.00 }, { n: "Cidra", p: 28.00 }, { n: "Cravo", p: 28.00 },
          { n: "Fl√≥rida ou Danci", p: 28.00 }, { n: "Laranja Bahia", p: 27.00 }, { n: "Laranja Campista", p: 27.00 },
          { n: "Laranja Imperial", p: 27.00 }, { n: "Laranja Kinkan", p: 27.00 }, { n: "Laranja Lima", p: 27.00 },
          { n: "Laranja Lima Verde", p: 27.00 }, { n: "Laranja P√™ra Natal", p: 27.00 }, { n: "Laranja P√™ra Rio", p: 27.00 },
          { n: "Laranja Sangu√≠nea", p: 27.00 }, { n: "Laranja Seleta", p: 27.00 }, { n: "Laranja Serra D'√°gua", p: 27.00 },
          { n: "Laranja Valencia", p: 27.00 }, { n: "Lima de Bico / Umbigo", p: 28.00 }, { n: "Lim√£o Ceciliano", p: 28.50 },
          { n: "Lim√£o Cravo / Rosa", p: 27.00 }, { n: "Lim√£o Doce", p: 28.00 }, { n: "Lim√£o Galego", p: 27.00 },
          { n: "Lim√£o Taiti", p: 27.00 }, { n: "Monte Negrini", p: 27.00 }, { n: "Murcote", p: 28.50 },
          { n: "Ponkan", p: 27.00 }, { n: "Ponkan sem sementes", p: 28.00 }, { n: "Tangerina Crav√£o", p: 29.00 },
          { n: "Tangerina IAC 118", p: 29.00 }, { n: "Tangerina Lend√°ria", p: 29.00 }, { n: "T√¢ngelo", p: 28.00 }
        ]
      },
      {
        categoria: "üçé FRUT√çFERAS", itens: [
          { n: "Abacate Avocado Hass", p: 25.00 }, { n: "Abacate Breda", p: 20.00 }, { n: "Abacate Fortuna", p: 20.00 },
          { n: "Abacate Margarida", p: 20.00 }, { n: "Abacate Ouro Verde", p: 20.00 }, { n: "Abacate Primavera", p: 20.00 },
          { n: "Abacate Quintal", p: 20.00 }, { n: "Abacate Terra", p: 25.00 }, { n: "Acerola", p: 20.00 },
          { n: "Acerola Estaquia", p: 25.00 }, { n: "Amora Chilena", p: 25.00 }, { n: "Amora Comum", p: 20.00 },
          { n: "Banana An√£", p: 20.00 }, { n: "Banana Comum", p: 20.00 }, { n: "Banana Ma√ß√£", p: 20.00 },
          { n: "Banana Nanica", p: 20.00 }, { n: "Banana Nanic√£o", p: 20.00 }, { n: "Banana Ouro", p: 20.00 },
          { n: "Banana Prata", p: 20.00 }, { n: "Banana P√£o", p: 20.00 }, { n: "Caju", p: 25.00 },
          { n: "Caju Produzindo", p: 50.00 }, { n: "Cana (Todas variedades)", p: 20.00 }, { n: "Caqui enxerto", p: 40.00 },
          { n: "Carambola", p: 22.00 }, { n: "Carambola Enxerto", p: 40.00 }, { n: "Carambola Sacol√£o", p: 55.00 },
          { n: "Coco Maior", p: 400.00 }, { n: "Coco Produzindo", p: 600.00 }, { n: "Coco Sacola", p: 40.00 },
          { n: "Coco Torr√£o M√©dio", p: 100.00 }, { n: "Figo Roxo/Valinhos", p: 20.00 }, { n: "Fruta do Conde", p: 20.00 },
          { n: "Fruta do Conde Produzindo", p: 70.00 }, { n: "Goiaba (Paloma/Pedro Sato)", p: 20.00 }, { n: "Graviola", p: 20.00 },
          { n: "Graviola Enxertada", p: 45.00 }, { n: "Jabuticaba H√≠brida", p: 150.00 }, { n: "Jabuticaba H√≠brida Menor", p: 90.00 },
          { n: "Jabuticaba Sabar√° 4 Anos", p: 70.00 }, { n: "Jabuticaba Sabar√° 6 Anos", p: 80.00 }, { n: "Jabuticaba Sabar√° 8 Anos", p: 100.00 },
          { n: "Lichia Alporque", p: 35.00 }, { n: "Lichia P√© Franco", p: 25.00 }, { n: "Mam√£o Papaia/Comum", p: 12.00 },
          { n: "Mandioca (Branca/Amarela)", p: 15.00 }, { n: "Manga Adem", p: 25.00 }, { n: "Manga Espada", p: 25.00 },
          { n: "Manga Palmer", p: 25.00 }, { n: "Manga Queite", p: 25.00 }, { n: "Manga Tomy", p: 25.00 },
          { n: "Manga Ub√°", p: 25.00 }, { n: "Manga c/ 2m de altura", p: 60.00 }, { n: "Maracuj√° Azedo", p: 12.00 },
          { n: "Maracuj√° Doce", p: 15.00 }, { n: "Pitanga", p: 20.00 }, { n: "P√™ssego", p: 45.00 }, { n: "Rom√£", p: 20.00 },
          { n: "Uva Ni√°gara/Francesa", p: 38.00 }
        ]
      },
      {
        categoria: "üåª ORNAMENTAIS", itens: [
          { n: "Azal√©ia", p: 20.00 }, { n: "Bico de Papagaio", p: 22.00 }, { n: "Buchinho", p: 40.00 },
          { n: "Buchinho (G)", p: 50.00 }, { n: "Buganv√≠lia", p: 20.00 }, { n: "Eug√™nia M√©dia", p: 60.00 },
          { n: "Eug√™nia Pequena", p: 50.00 }, { n: "Manac√° da Serra", p: 40.00 }, { n: "Manac√° da Serra (G)", p: 50.00 },
          { n: "Palmeira Imperial", p: 25.00 }, { n: "Palmeira Imperial (G)", p: 35.00 }, { n: "Palmeira Imperial Sacol√£o", p: 70.00 },
          { n: "Palmeira Real", p: 25.00 }, { n: "Palmeira R√°fia", p: 30.00 }, { n: "Palmeira Triangular", p: 50.00 },
          { n: "Pingo de Ouro", p: 7.00 }, { n: "Resed√°", p: 25.00 }, { n: "Rosas Variadas", p: 20.00 }
        ]
      },
      {
        categoria: "üå≥ NATIVAS", itens: [
          { n: "Ac√°cia (V√°rias)", p: 20.00 }, { n: "Cedro Australiano", p: 20.00 }, { n: "Ip√™ Amarelo (2m)", p: 60.00 },
          { n: "Ip√™ Amarelo/Branco", p: 20.00 }, { n: "Ip√™ Rosa (2m)", p: 60.00 }, { n: "Ip√™ Rosa/Roxo", p: 23.00 },
          { n: "Jatob√°", p: 20.00 }, { n: "Mogno", p: 25.00 }, { n: "Pau Brasil", p: 25.00 }, { n: "Pau Brasil (G)", p: 60.00 },
          { n: "Pau Ferro", p: 20.00 }, { n: "Pinheiro Paran√° (G)", p: 160.00 }, { n: "Pinheiro do Paran√°", p: 90.00 }, { n: "Quaresmeira", p: 25.00 }
        ]
      }
    ];

    let carrinho = {};

    function renderCatalogo() {
      const area = document.getElementById('renderArea');
      area.innerHTML = '';
      catalogo.forEach(cat => {
        const catTitle = document.createElement('div');
        catTitle.className = 'category-title';
        catTitle.innerText = cat.categoria;
        area.appendChild(catTitle);
        cat.itens.forEach(item => {
          const div = document.createElement('div');
          div.className = 'product-item';
          div.innerHTML = `
            <span style="font-weight:500">${item.n}</span>
            <div style="display:flex; align-items:center;">
              <span style="margin-right:8px; color:#1b5e20; font-size:0.95em; font-weight:bold;">R$ ${item.p.toFixed(2)}</span>
              <button class="btn-add" onclick="alterarQtd('${item.n}', ${item.p}, 1)">+</button>
            </div>`;
          area.appendChild(div);
        });
      });
    }

    function alterarQtd(nome, preco, delta) {
      if (!carrinho[nome]) carrinho[nome] = { preco: preco, qtd: 0 };
      carrinho[nome].qtd += delta;
      if (carrinho[nome].qtd <= 0) delete carrinho[nome];
      atualizarCarrinho();
    }

    function atualizarCarrinho() {
      const cartSection = document.getElementById('cartSection');
      const list = document.getElementById('cartItems');
      const totalEl = document.getElementById('totalValue');
      const floatBtn = document.getElementById('floatingBtn');
      const nomes = Object.keys(carrinho);

      if (nomes.length === 0) {
        cartSection.style.display = 'none';
        floatBtn.style.display = 'none';
        return;
      }

      let total = 0;
      list.innerHTML = '';
      nomes.sort().forEach(nome => {
        const item = carrinho[nome];
        total += item.qtd * item.preco;
        list.innerHTML += `
          <div class="cart-item">
            <div style="display:flex; justify-content:space-between; font-weight:500">
              <span>${nome}</span>
              <small>R$ ${item.preco.toFixed(2)}</small>
            </div>
            <div class="cart-controls">
              <button class="btn-mini" onclick="alterarQtd('${nome}', ${item.preco}, -1)">-</button>
              <span>${item.qtd}</span>
              <button class="btn-mini" onclick="alterarQtd('${nome}', ${item.preco}, 1)">+</button>
              <span style="font-weight:bold; color:#1b5e20">R$ ${(item.qtd * item.preco).toFixed(2)}</span>
            </div>
          </div>`;
      });

      const totalTexto = 'R$ ' + total.toFixed(2);
      totalEl.innerText = totalTexto;
      floatBtn.innerText = 'üõí ' + totalTexto;

      if (cartSection.style.display === 'flex') {
        floatBtn.style.display = 'none';
      } else {
        cartSection.style.display = 'none';
        floatBtn.style.display = 'block';
      }
    }

    function toggleCart() {
      const section = document.getElementById('cartSection');
      const float = document.getElementById('floatingBtn');
      if (Object.keys(carrinho).length === 0) return;

      if (section.style.display === 'none') {
        section.style.display = 'flex';
        float.style.display = 'none';
      } else {
        section.style.display = 'none';
        float.style.display = 'block';
      }
    }

    // --- FORMATA√á√ÉO LIMPA E SEM EMOJIS ---
    function gerarTexto() {
      const nomes = Object.keys(carrinho);
      if (nomes.length === 0) return null;
      let txt = "*PEDIDO S√çTIO PROGRESSO*\n------------------------\n";
      let tot = 0;
      nomes.sort().forEach(n => {
        const i = carrinho[n];
        tot += i.qtd * i.preco;
        // FORMATO LIMPO: 2x Laranja = (R$ 54.00)
        txt += `${i.qtd}x ${n} = (R$ ${(i.qtd * i.preco).toFixed(2)})\n`;
      });
      txt += `------------------------\n*TOTAL: R$ ${tot.toFixed(2)}*`;
      return txt;
    }

    function enviarZap() {
      const t = gerarTexto();
      if (t) window.open(`https://wa.me/?text=${encodeURIComponent(t)}`, '_blank');
    }

    function copiarPedido() {
      const t = gerarTexto();
      if (t) navigator.clipboard.writeText(t).then(() => alert("Copiado!"));
    }

    function limparCarrinho() {
      if (confirm("Limpar carrinho?")) { carrinho = {}; atualizarCarrinho(); }
    }

    renderCatalogo();
  </script>

</body>

</html>